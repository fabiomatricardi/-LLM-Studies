# LLM-Studies
Collection of Resources, repositories and snippets for LLM and  Open source Generative AI



## LLM Frameworks and tools
- ### [Duckduckgo_search](https://pypi.org/project/duckduckgo-search/)
> Search for words, documents, images, videos, news, maps and text translation using the DuckDuckGo.com search engine. Downloading files and images to a local hard drive.


## OpenAI compatible API
<img src='https://python.langchain.com/v0.2/img/brand/wordmark.png' width=400>
- https://python.langchain.com/v0.2/docs/integrations/chat/openai/

```
# source https://github.com/fabiomatricardi/llamaCPP_Agents/blob/main/testapi.py
from langchain_openai import ChatOpenAI

llm = ChatOpenAI(
    base_url="http://localhost:8080/v1", api_key="not-needed",
    model="qwen1_5-0_5b-chat",
    temperature=0.1,
    max_tokens=500,
    timeout=None,
    max_retries=2,
    # organization="...",
    # other params...
)

messages = [
    (
        "system",
        "You are a helpful assistant that translates English to French. Translate the user sentence.",
    ),
    ("human", "I love programming."),
]
"""
messages = [
    {
        "role": "system",
        "content":"You are a helpful assistant that translates English to French. Translate the user sentence."},
    {"role":"human", "content":"I love programming."},
]
"""

ai_msg = llm.invoke(messages)
#ai_msg
print(ai_msg.content)
```

- https://python.langchain.com/v0.2/docs/integrations/chat/llamacpp/
- https://python.langchain.com/v0.1/docs/integrations/text_embedding/llamacpp/


## LlamaCPP
<img src='https://user-images.githubusercontent.com/1991296/230134379-7181e485-c521-4d23-a0d6-f7b3b61ba524.png' width=400>

Main project Repo on GitHub https://github.com/ggerganov/llama.cpp/tree/compilade/refactor-kv-cache?tab=readme-ov-file

#### Python bindings
https://github.com/abetlen/llama-cpp-python?tab=readme-ov-file
> compatible openAI server https://llama-cpp-python.readthedocs.io/en/stable/server/

- [LLamaCPPChat](https://python.langchain.com/v0.2/docs/integrations/chat/llamacpp/)
- [LLamaCPPEmbeddings](https://python.langchain.com/v0.1/docs/integrations/text_embedding/llamacpp/)




## Agentic llm
- ### [LLMs: A New Era in Web Scraping](https://medium.com/@ireihani/llms-a-new-era-in-web-scraping-1ffc6b93abda)
<img src='https://miro.medium.com/v2/resize:fit:640/format:webp/1*SAvlcuWZnu_PIDbI5yKVyA.png' height=200>

> In the rapidly evolving landscape of machine learning and its real-world applications, a notable project has emerged on GitHub: GPT Researcher. This autonomous system functions as an advanced research assistant, drawing from the capabilities of AutoGPT and Plan-and-Solve to offer a unique approach to online research. One of its most promising applications is in the field of web scraping, a technique for extracting data from websites, where Large Language Models (LLMs) like GPT Researcher offer significant advantages.

https://docs.gptr.dev/docs/gpt-researcher/pip-package


<br><br>
<img src='https://miro.medium.com/v2/resize:fit:720/format:webp/1*QLZZe9h0W6z-DwCybTCskA.png' height=250>
- ### [CrewAI 🕷️🤖](https://github.com/unclecode/crawl4ai)
> Crawl4AI has one clear task: to simplify crawling and extract useful information from web pages, making it accessible for large language models (LLMs) and AI applications. 🆓🌐
> 
> [Colab Notebook](https://colab.research.google.com/drive/1wz8u30rvbq6Scodye9AGCw8Qg_Z8QGsk#scrollTo=GyRjyQ1UoaJr)

> [How to Implement a Simple UI for CrewAI applications - A Quick Tutorial of CrewAI + Streamlit](https://levelup.gitconnected.com/how-to-implement-a-simple-ui-for-crewai-applications-91f29c04fc8f)<br>
> In this application, we use the Streamlit framework for constructing the web app by using its chat widgets that mimic a studio with group chat among several LLM-powered agents in an automated way. The chat will be ended once the final answer is generated by the group. Here is the workflow.
<img src='https://miro.medium.com/v2/resize:fit:720/format:webp/1*tvTJEjtThlnWQefs71vUjQ.png' height=250>

- ### [Python Scraper Github projects](https://github.com/topics/scraper?l=python)
> Here are 4,249 public repositories matching this topic...

- ### [AnimeDL](https://github.com/justfoolingaround/animdl)
<img src='https://camo.githubusercontent.com/3f4968553de25d951d8b57875296c4fe1e259a578c800a2e1283e589edd82f05/68747470733a2f2f696e7669646765742e737769746368626c6164652e78797a2f67615832536e7374326a' width=400>



## Miscellaneous
- ### [Python RICH](https://rich.readthedocs.io/en/latest/index.html)
> [Color codes](https://rich.readthedocs.io/en/latest/appendix/colors.html)

- ### [EasyGUI](https://easygui.readthedocs.io/en/master/index.html)
> EasyGUI is a module for very simple, very easy GUI programming in Python. EasyGUI is different from other GUI generators in that EasyGUI is NOT event-driven. Instead, all GUI interactions are invoked by simple function calls.<br>
> EasyGui provides an easy-to-use interface for simple GUI interaction with a user. It does not require the programmer to know anything about tkinter, frames, widgets, callbacks or lambda.<br>
> EasyGUI runs on Python 2 and 3, and does not have any dependencies.
<br><br>
        
<img src='https://media.dev.to/cdn-cgi/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F3qez20g434gncjrrxep6.png' height=200>

- ### Code snippets
- https://dev.to/_estheradebayo/6-awesome-tools-that-turn-code-snippets-to-images-54fo
- https://carbon.now.sh/

<br><br><br>
<img src='https://scontent-mxp2-1.xx.fbcdn.net/v/t39.8562-6/252294889_575082167077436_6034106545912333281_n.svg/meta-logo-primary_standardsize.svg?_nc_cat=1&ccb=1-7&_nc_sid=e280be&_nc_ohc=gHe9SH5Q39oQ7kNvgF40WF2&_nc_ht=scontent-mxp2-1.xx&oh=00_AYC2pLd7XyxG2PbimvpfsgvSoenwfHnZ0smUp7kV8OLsew&oe=66788A39' width=200>
- ### [Meta Chameleon](https://github.com/facebookresearch/chameleon/tree/main)
> Annoucement here https://about.fb.com/news/2024/06/releasing-new-ai-research-models-to-accelerate-innovation-at-scale/ <br>and here https://twitter.com/AIatMeta/status/1803107817345393136 <br>
> As we shared in our research paper last month, Meta Chameleon is a family of models that can combine text and images as input and output any combination of text and images with a single unified architecture for both encoding and decoding. While most current late-fusion models use diffusion-based learning, Meta Chameleon uses tokenization for text and images. This enables a more unified approach and makes the model easier to design, maintain, and scale. The possibilities are endless—imagine generating creative captions for images or using a mix of text prompts and images to create an entirely new scene.<br.
> https://ai.meta.com/blog/meta-fair-research-new-releases/

- ### [ParlAI](https://parl.ai/projects/recipes/)
> https://github.com/facebookresearch/ParlAI<br>
>Building open-domain chatbots is a challenging area for machine learning research. While prior work has shown that scaling neural models in the number of parameters and the size of the data they are trained on gives improved results, we show that other ingredients are important for a high-performing chatbot. Good conversation requires a number of skills that an expert conversationalist blends in a seamless way: providing engaging talking points and listening to their partners, both asking and answering questions, and displaying knowledge, empathy and personality appropriately, depending on the situation. We show that large scale models can learn these skills when given appropriate training data and choice of generation strategy. We build variants of these recipes with 90M, 2.7B and 9.4B parameter neural models, and make our models and code publicly available. Human evaluations show our best models are superior to existing approaches in multi-turn dialogue in terms of engagingness and humanness measurements. We then discuss the limitations of this work by analyzing failure cases of our models.

Text2Text encoder-decoder models:
> https://huggingface.co/facebook/blenderbot_small-90M/tree/main<br>
> https://huggingface.co/facebook/blenderbot-400M-distill/tree/main
```
https://parl.ai/projects/
https://parl.ai/projects/bb3x/

```


### Mixture of Experts or MoAgents
Quantized models GGUF [mradermacher/TinyEnsemble-3x1.1B-TinyMoE-GGUF](https://huggingface.co/mradermacher/TinyEnsemble-3x1.1B-TinyMoE-GGUF)


Original model [TinyEnsemble-3x1.1B-TinyMoE
](https://huggingface.co/JoPmt/TinyEnsemble-3x1.1B-TinyMoE)
> TinyEnsemble-3x1.1B-TinyMoE is a Mixture of Experts (MoE) made with the following models using LazyMergekit:
```
cognitivecomputations/TinyDolphin-2.8-1.1b
78health/TinyLlama_1.1B-function-calling
DaertML/TinyGauss-1.1B
```
Configuration
```
base_model: cognitivecomputations/TinyDolphin-2.8-1.1b
gate_mode: cheap_embed
dtype: bfloat16
experts:
  - source_model: cognitivecomputations/TinyDolphin-2.8-1.1b
    positive_prompts: ["write", "explain", "summarize", "how", "what", "acting"]
  - source_model: 78health/TinyLlama_1.1B-function-calling
    positive_prompts: ["code", "python", "javascript", "programming", "script", "run", "create"]
  - source_model: DaertML/TinyGauss-1.1B
    positive_prompts: ["count", "math", "algorithm", "crypto", "logic", "reason"]
```

<br><br>

- ### [Jamba-900M-GGUF](https://huggingface.co/Severian/Jamba-900M-GGUF/tree/main)
> original model from https://huggingface.co/pszemraj/jamba-900M-v0.13-KIx2

---

### TensorOpera-Fox-1-chat
Chat with web-based Document search and TensorOpera Fox-1 LlamaCPP

<img src='https://blog.tensoropera.ai/content/images/size/w1200/2024/06/fox-logo--1--3.jpg' height=400>


#### Description
project to talk with documents retrieved with websearch and enriched with newspaper3k
forced to use llama-cpp-python and not llamafile becuase of the embeddings

Using langchain for both llamaCPP LlamaCppEmbeddings and ChatLlamaCpp


#### MODEL USED: TensorOpera Fox-1
https://blog.tensoropera.ai/tensoropera-unveils-fox-foundation-model-a-pioneering-open-source-slm-leading-the-way-against-tech-giants/

We are thrilled to introduce TensorOpera Fox-1, our cutting-edge 1.6B parameter small language model (SLM) designed to advance scalability and ownership in the generative AI landscape. TensorOpera Fox-1 is a top-performing SLM in its class, outperforming SLMs developed by industry giants like Apple, Google, and Alibaba, making it an optimal choice for developers and enterprises looking for scalable and efficient AI deployment.

#### Create Venv
python311 -m venv venv
➜ venv\Scripts\activate
(venv) ➜ llamacpp-agents ⚡                                                                                             3.11.7

##### install dependencies
```
pip install --upgrade langchain langchain-community faiss-cpu tiktoken duckduckgo-search llama-cpp-python rich newspaper3k easygui lxml_html_clean streamlit
```

[GGUF MODEL
](https://huggingface.co/QuantFactory/Fox-1-1.6B-GGUF/tree/main)

##### RESOURCES:
https://python.langchain.com/v0.2/docs/integrations/chat/llamacpp/

https://python.langchain.com/v0.1/docs/integrations/text_embedding/llamacpp/

https://python.langchain.com/v0.2/docs/concepts/#documents

https://python.langchain.com/v0.1/docs/integrations/tools/ddg/

https://stackoverflow.com/questions/77782167/modulenotfounderror-no-module-named-langchain-openai

https://python.langchain.com/v0.2/docs/integrations/chat/openai/

---

<br><br>

### Embeddings through llama=cpp=python OpenAI server

Run the serevr with llamafile
```
.\llamafile-0.8.9.exe -m .\models\e5-small-v2.Q8_0.gguf --host 0.0.0.0 --port 8001
```

in the python file
```
from openai import OpenAI
import sys
from time import sleep
# https://platform.openai.com/docs/api-reference/fine-tuning/create?lang=python

client = OpenAI(base_url="http://localhost:8001/v1", api_key="not-needed")

em = client.embeddings.create(
                        model="",
                        input="The food was delicious and the waiter...",
                        encoding_format="float"
                        )
print(em.data[0].embedding)
```

Result is  alist of floats
```
[-0.07770553231239319, 0.058053839951753616, -0.003731339704245329, -0.028344525024294853, -0.0819331556558609, 0.02391095831990242, 0.10274428129196167, -0.10635162144899368, 0.031019171699881554, 0.09220582246780396, 0.03185124695301056, -0.034699227660894394, -0.07392998784780502, 0.016710588708519936, -0.009577663615345955, -0.0875440165400505, 0.04762440547347069, 0.053609199821949005, -0.08525288105010986, 0.0005862514371983707, 0.00033544341567903757, -0.061387479305267334, 0.0010711036156862974, -0.06924514472484589, -0.02091783471405506, 0.04329301789402962, 0.03802476078271866, 0.06768634915351868, -0.0649380087852478, -0.07964487373828888, -0.03740384802222252, -0.0026801161002367735, 0.026413554325699806, -0.03044666163623333, 0.0382772721350193, -0.05680304020643234, -0.021981796249747276, 0.011962092481553555, 0.0104746725410223, 0.02841184288263321, -0.003782633924856782, -0.0256956834346056, 0.04235060513019562, -0.05248246341943741, -0.01174509059637785, -0.0009710678714327514, -0.024380426853895187, -0.013623673468828201, 0.07945588231086731, -0.001772428979165852, -0.04576412960886955, 0.009208419360220432, 0.09473102539777756, 0.05805292725563049, 0.06969302147626877, 0.06968113780021667, 0.015838181599974632, 0.05809232220053673, 0.05437614768743515, 0.062324777245521545, -0.029256785288453102, 0.04151704162359238, -0.10399787127971649, 0.1338437795639038, 0.07744263112545013, 0.06880676746368408, -0.05262516066431999, -0.02579922042787075, -0.04793877899646759, -0.0339786596596241, -0.009276028722524643, 0.06676141172647476, 0.03787851333618164, 0.017864761874079704, -0.004989943467080593, -0.01868177391588688, 0.04213051125407219, 0.0008882205584086478, -0.05589257553219795, 0.0666891559958458, -0.015595770440995693, -0.044562436640262604, -0.025130413472652435, 0.026039307937026024, -0.009161598049104214, -0.012770503759384155, 0.006095195189118385, -0.03540264815092087, 0.017860310152173042, -0.08059518039226532, 0.008960643783211708, 0.029980773106217384, -0.039573367685079575, 0.002225709380581975, -0.01908496394753456, -0.009972530417144299, -0.00017214946274179965, 0.04399416595697403, 0.030601197853684425, 0.05835232883691788, 0.009089638479053974, 0.007956620305776596, 0.02636985294520855, -0.058108553290367126, -0.04612968862056732, -0.032300662249326706, 0.008961913175880909, 0.032836105674505234, 0.031519949436187744, 0.006439859047532082, -0.006580711342394352, -0.03637237846851349, 0.0407034307718277, -0.012546902522444725, 0.009489111602306366, 0.07189472019672394, -0.016870012506842613, -0.060878802090883255, -0.03973037749528885, -0.02779730036854744, 0.08207202702760696, 0.06839297711849213, 0.012984618544578552, -0.04365922883152962, 0.009428095072507858, -0.059492483735084534, 0.1609777808189392, 0.07275012880563736, 0.014698316343128681, 0.021691877394914627, 0.10013225674629211, -0.05845637246966362, 0.040063485503196716, 0.02857067994773388, -0.06482607871294022, -0.04147634282708168, -0.014708303846418858, -0.006689564324915409, 0.06317062675952911, -0.03172183781862259, -0.026554251089692116, -0.07527494430541992, -0.04827079549431801, -0.14448440074920654, 0.03480589762330055, 0.06835004687309265, -0.1006544977426529, 0.061315104365348816, -0.06104129180312157, -0.01643282175064087, -0.048570163547992706, 0.0025915377773344517, 0.036091893911361694, 0.01804303005337715, -0.0477677658200264, -0.002228283090516925, 0.0458851121366024, 0.06514230370521545, -0.04923420399427414, -0.005478969309478998, -0.06881637126207352, -0.05794316157698631, 0.038011156022548676, 0.06521260738372803, 0.02207203581929207, -0.15013840794563293, 0.030438991263508797, 0.011809349060058594, 0.03515569493174553, -0.0022691702470183372, -0.006921172607690096, 0.05982997268438339, -0.035342369228601456, -0.014525988139212132, 0.07275637239217758, -0.004910834599286318, -0.02476188726723194, -0.03441869840025902, 0.07549623399972916, -0.08513734489679337, 0.07338512688875198, -0.06051208823919296, -0.03319067135453224, 0.024507878348231316, 0.11449761688709259, -0.018317505717277527, -0.05486154928803444, -0.07535598427057266, 0.004853559657931328, 0.013743198476731777, -0.007590802386403084, -0.027932599186897278, -0.02894902229309082, 0.033789683133363724, 0.03222807124257088, 0.008405196480453014, -0.019403137266635895, -0.05829869210720062, -0.012040001340210438, -0.02670944668352604, 0.07818924635648727, 0.055040959268808365, -0.03695793077349663, 0.01658860594034195, -0.029360344633460045, 0.031506672501564026, 0.045277077704668045, -0.03409908711910248, 0.00015142203483264893, 0.0071851639077067375, -0.05450136959552765, 0.010884792543947697, -0.01961529068648815, 0.06041382998228073, -0.033997081220149994, -0.06249495968222618, 0.045573458075523376, 0.0357527919113636, -0.018181046470999718, -0.004839934408664703, 0.09920988976955414, -0.03178643807768822, -0.06652602553367615, -0.11141175776720047, -0.022750934585928917, -0.05174560099840164, -0.06057467311620712, 0.051672112196683884, -0.010788897052407265, -0.011295848526060581, -0.025929275900125504, 0.0012224774109199643, 0.05387137085199356, 0.08782609552145004, -0.033967480063438416, -0.03750520199537277, 0.05379185453057289, 0.02172645926475525, 0.08999872952699661, -0.02423694171011448, -0.04397745057940483, 0.042339228093624115, -0.026889190077781677, 0.00657908758148551, -0.033668700605630875, -0.015253780409693718, -0.020794589072465897, 0.07226668298244476, -0.0406898558139801, 0.14628620445728302, 0.0697421282529831, 0.017225949093699455, -0.08902592957019806, 0.005949118174612522, 0.022570600733160973, -0.002952668583020568, -0.06955864280462265, 0.06391876190900803, -0.02092842198908329, 0.07616294175386429, 0.01134631410241127, -0.03042207658290863, -0.04781018942594528, 0.10487748682498932, -0.003711394965648651, -0.0013989208964630961, -0.056350331753492355, 0.09574436396360397, -0.03303154930472374, -0.029056133702397346, 0.059770822525024414, -0.06106216087937355, -0.03231777250766754, 0.01696535013616085, -0.014432821422815323, 0.04799453169107437, 0.009242958389222622, -0.06274783611297607, -0.04926114156842232, -0.013459327630698681, 0.05877558887004852, -0.033368296921253204, 0.02223854884505272, -0.09123201668262482, -0.01811806671321392, -0.0023599702399224043, -0.030565183609724045, 0.05312572792172432, 0.12135404348373413, -0.010465753264725208, 0.041027311235666275, -0.04170806333422661, -0.014095721766352654, -0.015314429998397827, 0.07176456600427628, -0.054333023726940155, 0.05051775649189949, 0.08677463233470917, 0.031896572560071945, 0.061361998319625854, -0.027793951332569122, -0.030888760462403297, -0.0571727491915226, -0.03652868792414665, -0.09613995999097824, 0.030825935304164886, 0.03935391455888748, -0.008442746475338936, -0.030581273138523102, -0.03340337052941322, -0.0017135083908215165, -0.01253775879740715, -0.06112384796142578, 0.05582120269536972, -0.02848602831363678, 0.030927874147892, 0.023496519774198532, -0.04479381814599037, -0.05359239503741264, -0.1468297392129898, -0.036381203681230545, 0.02778536267578602, -0.027136387303471565, 0.006466824561357498, 0.02537067048251629, -0.015966203063726425, 0.0017414146568626165, -0.06470031291246414, -0.0529756136238575, 0.07985420525074005, -0.014133680611848831, 0.12568916380405426, -0.0026620395947247744, -0.01925741322338581, 0.050303865224123, 0.03245341032743454, -0.036765068769454956, -0.04955979436635971, -0.09206835925579071, -0.01133102085441351, 0.012120837345719337, 0.14277973771095276, 0.03349079191684723, -0.018042463809251785, 0.032874759286642075, 0.04122765734791756, 0.0003585507511161268, 0.014019212685525417, 0.05173221603035927, -0.0194379985332489, -0.07092462480068207, 0.050287216901779175, -0.07988137751817703, 0.017810357734560966, 0.082575723528862, -0.0011121630668640137, -0.01180215459316969, 0.02603086642920971, -0.0029952051118016243, -0.0025801064912229776, 0.07202207297086716, -0.03426627814769745, -0.07458853721618652, 0.08489809930324554, 0.008628335781395435, -0.053580913692712784, -0.005391030106693506, 0.03212390094995499, -0.027894308790564537, 0.003957782406359911, -0.05617683008313179, 0.025063317269086838, 0.04968349635601044, 0.04089535400271416, -0.09153591096401215, -0.10259200632572174, 0.027067070826888084, -0.007999423891305923, -0.04183247685432434, 0.01480425987392664, -0.041702110320329666, 0.03351358324289322, -0.048024557530879974, -0.006607729010283947]
```
